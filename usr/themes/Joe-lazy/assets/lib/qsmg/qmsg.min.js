!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e(t)}):t.Qmsg=e(t)}(this,function(t){function e(){for(var t=a,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function n(t){var n=this;n.settings=Object.assign({},c,t||{}),n.id=m.instanceCount;var s=(s=n.settings.timeout)&&parseInt(0<=s)&parseInt(s)<=Math.NEGATIVE_INFINITY?parseInt(s):c.timeout;n.timeout=s,n.settings.timeout=s,n.timer=null;var o=document.createElement("div"),u=l[n.settings.type||"info"],h=e("content-"+n.settings.type||"info");h+=n.settings.showClose?" "+e("content-with-close"):"";var d=n.settings.content||"";t=l.close,s=n.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+t+"</i>":"",t=document.createElement("span");n.settings.html?t.innerHTML=d:t.innerText=d,o.innerHTML='<div class="qmsg-content">            <div class="'+h+'">                <i class="qmsg-icon">'+u+"</i>"+t.outerHTML+s+"</div>        </div>",o.classList.add(e("item")),o.style.textAlign=n.settings.position,s=document.querySelector("."+a),s||((s=document.createElement("div")).classList.add(a,e("wrapper"),e("is-initialized")),document.body.appendChild(s)),s.appendChild(o),n.$wrapper=s,n.$elem=o,i(n,"opening"),n.settings.showClose&&o.querySelector(".qmsg-icon-close").addEventListener("click",function(){n.close()}.bind(o)),o.addEventListener("animationend",function(t){var e=t.target;t.animationName==r.closing&&(clearInterval(this.timer),this.destroy()),e.style.animationName="",e.style.webkitAnimationName=""}.bind(n)),n.settings.autoClose&&(n.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(n),10),n.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(n)),n.$elem.addEventListener("mouseout",function(){"closing"!=this.state&&(this.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(n),10))}.bind(n)))}function i(t,e){e&&r[e]&&(t.state=e,t.$elem.style.animationName=r[e])}function s(t,e){var n=Object.assign({},c);return 0===arguments.length?n:t instanceof Object?Object.assign(n,t):(n.content=t.toString(),e instanceof Object?Object.assign(n,e):n)}function o(t){t=t||{};var i,s,o,a,r=JSON.stringify(t),l=-1;for(s in this.oMsgs){var u=this.oMsgs[s];if(u.config==r){l=s,i=u.inst;break}}if(l<0){this.instanceCount++;var m={};m.id=this.instanceCount,m.config=r,(i=new n(t)).id=this.instanceCount,i.count="",m.inst=i,this.oMsgs[this.instanceCount]=m;var h=this.oMsgs.length,d=this.maxNums;if(d<h)for(var g=0,f=this.oMsgs;g<h-d;g++)f[g]&&f[g].inst.settings.autoClose&&f[g].inst.close()}else i.count=i.count?99<=i.count?i.count:i.count+1:2,o=i,a=e("count"),t=o.$elem.querySelector("."+e("content")),(m=t.querySelector("."+a))||((m=document.createElement("span")).classList.add(a),t.appendChild(m)),m.innerHTML=o.count,m.style.animationName="",m.style.animationName="MessageShake",o.timeout=o.settings.timeout||c.timeout;return i.$elem.setAttribute("data-count",i.count),i}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),"classList"in HTMLElement.prototype||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var t=this;return{add:function(e){this.contains(e)||(t.className+=" "+e)},remove:function(e){this.contains(e)&&(e=new RegExp(e),t.className=t.className.replace(e,""))},contains:function(e){return-1!=t.className.indexOf(e)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});var a=t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.NAMESPACE||"qmsg",r={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},c=Object.assign({position:"center",type:"info",showClose:!1,timeout:2500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.DEFAULTS),l={info:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#909399"/></svg>',warning:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#E6A23C"/></svg>',error:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#F56C6C"/></svg>',success:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#67C23A"/></svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/><path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},u=void 0!==(t=document.createElement("div").style).animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName;n.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem),clearInterval(this.timer),m.remove(this.id)},n.prototype.close=function(){i(this,"closing"),u?m.remove(this.id):this.destroy();var t=this.settings.onClose;t&&t instanceof Function&&t.call(this)};var m={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:c.maxNums||5,config:function(t){c=t&&t instanceof Object?Object.assign(c,t):c,this.maxNums=c.maxNums&&0<c.maxNums?parseInt(c.maxNums):3},info:function(t,e){return e=s(t,e),e.type="info",o.call(this,e)},warning:function(t,e){return e=s(t,e),e.type="warning",o.call(this,e)},success:function(t,e){return e=s(t,e),e.type="success",o.call(this,e)},error:function(t,e){return e=s(t,e),e.type="error",o.call(this,e)},loading:function(t,e){return e=s(t,e),e.type="loading",e.autoClose=!1,o.call(this,e)},remove:function(t){this.oMsgs[t]&&delete this.oMsgs[t]},closeAll:function(){for(var t in this.oMsgs)this.oMsgs[t]&&this.oMsgs[t].inst.close()}};return m});